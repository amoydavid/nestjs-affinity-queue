---
description: 
globs: 
alwaysApply: false
---
# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–
```bash
pnpm install
```

### 2. å¯åŠ¨ Redis
```bash
docker run -d -p 6379:6379 redis:7-alpine
```

### 3. å¯åŠ¨ç¤ºä¾‹åº”ç”¨
```bash
pnpm dev:example
```

### 4. æµ‹è¯•åŠŸèƒ½
```bash
curl -X POST http://localhost:3000/tasks \
  -H "Content-Type: application/json" \
  -d '{"type": "test", "identifyTag": "company-123", "payload": {"message": "Hello"}}'
```

## ğŸ“š æ ¸å¿ƒæ–‡æ¡£

- [é¡¹ç›®æ¦‚è§ˆ](mdc:.cursor/rules/project-overview.mdc): é¡¹ç›®æ ¸å¿ƒæ¦‚å¿µ
- [æ ¸å¿ƒæ’ä»¶ç»“æ„](mdc:.cursor/rules/core-plugin-structure.mdc): æ’ä»¶åŒ…ç»“æ„
- [ç¤ºä¾‹åº”ç”¨æŒ‡å—](mdc:.cursor/rules/example-app-guide.mdc): ç¤ºä¾‹åº”ç”¨ä½¿ç”¨
- [å¼€å‘å·¥ä½œæµ](mdc:.cursor/rules/development-workflow.mdc): å¼€å‘æµç¨‹
- [æ¶æ„æ¨¡å¼](mdc:.cursor/rules/architecture-patterns.mdc): è®¾è®¡æ¨¡å¼
- [API å‚è€ƒ](mdc:.cursor/rules/api-reference.mdc): API æ–‡æ¡£

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
pnpm dev:example

# æ„å»ºé¡¹ç›®
pnpm build

# PM2 éƒ¨ç½²
cd packages/example
pm2 start ecosystem.config.js
```

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **å¼ºåˆ¶äº²å’Œæ€§è°ƒåº¦**: ç›¸åŒ `identifyTag` çš„ä»»åŠ¡æŒ‰é¡ºåºå¤„ç†
- **åˆ†å¸ƒå¼æ¶æ„**: è°ƒåº¦å™¨ä¸ Worker å®Œå…¨åˆ†ç¦»
- **æ‰¹æ¬¡æ§åˆ¶**: å¯é…ç½®çš„æ‰¹æ¬¡å¤§å°é™åˆ¶

## ğŸ“ å…³é”®æ–‡ä»¶

- [packages/nestjs-affinity-queue/src/index.ts](mdc:packages/nestjs-affinity-queue/src/index.ts): æ’ä»¶å…¥å£
- [packages/example/src/app.module.ts](mdc:packages/example/src/app.module.ts): ç¤ºä¾‹é…ç½®
- [packages/example/ecosystem.config.js](mdc:packages/example/ecosystem.config.js): PM2 é…ç½®

## ğŸ†˜ å¸¸è§é—®é¢˜

### Redis è¿æ¥é—®é¢˜
- ç¡®ä¿ Redis æœåŠ¡æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ç«¯å£ 6379 æ˜¯å¦å¯ç”¨
- éªŒè¯ç½‘ç»œè¿æ¥

### æƒé™é—®é¢˜
- ç¡®ä¿æœ‰è¶³å¤Ÿæƒé™è¿è¡Œ PM2
- æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿæƒé™

### ç«¯å£å†²çª
- ç¡®ä¿ç«¯å£ 3000 æœªè¢«å ç”¨
- æ£€æŸ¥ Redis ç«¯å£ 6379 æ˜¯å¦å¯ç”¨
